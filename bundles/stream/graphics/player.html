<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="css/global.css">
	<link rel="stylesheet" href="css/players.css">
</head>
<body>
	<div class="container">
		<div id="player" class="player-banner">
			<div id="runnerId" class="third runner">DJODJINO</div>
			<div id="game-infos" class="third hidden">
				<span id="title"></span> -
				<span id="category"></span>
			</div>
			<div id="PB-div" class="third Pbs hidden">
				<span id="pbScore">0</span> (<span id="pbTime">00:00:00</span>)
			</div>
		</div>
	</div>
</body>

<script>
	const player = document.querySelector('#player');

	const PBDiv = document.querySelector('#PB-div');
	const gameDiv = document.querySelector('#game-infos');

	const pbScore = document.querySelector('#pbScore');
	const pbTime = document.querySelector('#pbTime');

	const title = document.querySelector('#title');
	const category = document.querySelector('#category');

	nodecg.listenFor('showPB', async infos => {
		player.style.backgroundColor = '#' + infos.color;

		pbScore.innerText = infos.score;
		pbTime.innerText = infos.time;

		title.innerText = infos.game;
		category.innerText = infos.category;

		gameDiv.classList.remove('hidden');
		PBDiv.classList.remove('hidden');
	})

	nodecg.listenFor('hidePB', async infos => {
		gameDiv.classList.add('hidden');
		PBDiv.classList.add('hidden');
	})
</script>
</html>
